winexe README
=============

These instructions are for Debian 7 with APT access to the Debian
unstable and experimental repositories.

Winexe makes use of Samba version 4.

Winexe can be built such that it is linked to Samba dynamically linked
libraries, resulting in an executable less than one megabyte in size.

Alternatively it can be statically linked to Samba libraries, resulting
in an executable that is several megabytes in size. The latter version
is still dynamically linked to a number of other libraries such as libc.


Instructions for Samba shared library build
-------------------------------------------

Get dependencies.

    apt-get install \
        gcc-mingw-w64 \
        libtalloc-dev \
        libtevent-dev \
        libpopt-dev \
        samba-dev \
        samba-common-bin \
        libdcerpc-dev \
        libsamba-credentials-dev \
        libsamba-util-dev \
        libsmbclient-raw-dev \
        libndr-standard-dev \
        libsamba-hostconfig-dev

Build.

    cd source
    ./waf configure
    ./waf

Run.

    build/winexe --help


Instructions for Samba static library build
-------------------------------------------

Get dependencies, including the Samba source tree.

    sudo apt-get install \
        gcc-mingw-w64 \
        comerr-dev \
        libpopt-dev \
        libbsd-dev \
        zlib1g-dev \
        libc6-dev
    git clone git://git.samba.org/samba.git samba

Build. The argument of the "samba-dir" option is the path to the samba source
tree that was just downloaded. The "configure" step takes a long time because
it builds Samba 4.

    cd source
    ./waf configure --samba-dir=../samba
    ./waf

Run.

    build/winexe-static --help

The build system tries to find paths to headers and libraries, but you
can also specify these as follows.

    ./waf configure --samba-dir=../samba --samba-inc-dirs=...  --samba-lib-dirs=...

To build the shared-library version and the static-library version at
the same time, add the "--enable-shared" option.

    ./waf configure --samba-dir=../samba --enable-shared


Credits
-------
Written by Andrzej Hajda <andrzej.hajda@wp.pl>

Contributions were made by:
* Thomas Hood, RAAF Technology bv, Netherlands <thomas@raaftech.nl>

License
-------
Please see the COPYING file for the text of the GNU GPL version 3.

